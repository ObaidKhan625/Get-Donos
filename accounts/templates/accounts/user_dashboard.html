{% extends 'accounts/main.html' %}

{% block content %}

<div style="position: relative;">
	<div id="dashboard-body">
		<div class="Card-Block">
			<div class="row">
				<div class="col">
					<div class="card-body bg-light text-dark dashboard-card ml-4">
						<h5>User : {{user.username}}</h5>
						<hr>
						<h5>Contact me through : </h5>
						<b>Phone : {{user.user_phone}}</b><br>
						<b>Email : {{profile.email}}</b><br>
						<b>Other : {{profile.user_other}}</b><br>
					</div>
				</div>
				<div class="col">
					<div class="card-body bg-light text-dark dashboard-card">
						<div class="Inside-card">
							<h5>Donations Made : </h5>
							<hr>
							<h1 style="text-align:center; padding:10px">{{donations_made_count}}</h1>
						</div>
					</div>
				</div>

				<div class="col">
					<div class="card-body bg-light text-dark dashboard-card mr-4">
						<div class="Inside-card">
							<h5>Donations Recieved : </h5>
							<hr>
							<h1 style="text-align:center; padding:10px">{{donations_received_count}}</h1>
						</div>
					</div>
				</div>
			</div>
		</div>
		
		<h1 id="your-donations-header">
			Your Donations
		</h1>
	</div>

	<div class="donation-table-container">
		<ul class="responsive-table">
			<li class="table-header">
				<div class="col col-1">From</div>
				<div class="col col-2">To</div>
				<div class="col col-3">Amount Due</div>
				<div class="col col-4">Payment Status</div>
			</li>
			{% for donation in all_donations %}
			{% if donation.from_user == request.user %}
			<li class="table-row" style="border: 3px solid #00ff99">
			{% else %}
			<li class="table-row" style="border: 3px solid #21e40e;">
			{% endif %}
				<div class="col col-1" data-label="Job Id">{{donation.from_user}}</div>
				<div class="col col-2" data-label="Customer Name">{{donation.to_user}}</div>
				<div class="col col-3" data-label="Amount">{{donation.amount}}</div>
				<div class="col col-4" data-label="Payment Status">{{donation.note}}</div>
			</li>
			{% endfor %}
		</ul>
	</div>
</div>


{% endblock %}